# serializer version: 1
# name: test_api_create[CategoryViewSet]
  dict({
    'queries': list([
    ]),
    'query_count': 0,
    'request': dict({
      'CONTENT_LENGTH': '684',
      'CONTENT_TYPE': 'application/vnd.api+json',
      'PATH_INFO': '/api/v1/categories',
      'QUERY_STRING': '',
      'REQUEST_METHOD': 'POST',
      'SERVER_PORT': '80',
    }),
    'request_payload': dict({
      'data': dict({
        'attributes': dict({
          'allowed-mime-types': None,
          'color': '#093f87',
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'description': dict({
            'de': '',
            'en': '''
              Far bit among again. Station story first. Team suggest traditional boy above.
              Central meeting anyone remember. There today material minute ago get. Range whose scientist draw free property consider.
            ''',
            'fr': '',
          }),
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'name': dict({
            'de': '',
            'en': 'Erin Scott',
            'fr': '',
          }),
          'sort': None,
        }),
        'id': 'note-act-source',
        'relationships': dict({
          'children': dict({
            'data': list([
            ]),
            'meta': dict({
              'count': 0,
            }),
          }),
          'parent': dict({
            'data': None,
          }),
        }),
        'type': 'categories',
      }),
    }),
    'response': dict({
      'errors': list([
        dict({
          'code': 'method_not_allowed',
          'detail': 'Method "POST" not allowed.',
          'source': dict({
            'pointer': '/data',
          }),
          'status': '405',
        }),
      ]),
    }),
    'status': 405,
  })
# ---
# name: test_api_create[DocumentViewSet]
  dict({
    'queries': list([
      'SELECT "alexandria_core_category"."created_at", "alexandria_core_category"."created_by_user", "alexandria_core_category"."created_by_group", "alexandria_core_category"."modified_at", "alexandria_core_category"."modified_by_user", "alexandria_core_category"."modified_by_group", "alexandria_core_category"."metainfo", "alexandria_core_category"."slug", "alexandria_core_category"."name", "alexandria_core_category"."description", "alexandria_core_category"."allowed_mime_types", "alexandria_core_category"."color", "alexandria_core_category"."parent_id", "alexandria_core_category"."sort" FROM "alexandria_core_category" WHERE "alexandria_core_category"."slug" = \'note-act-source\' LIMIT 21',
      'BEGIN',
      'INSERT INTO "alexandria_core_document" ("created_at", "created_by_user", "created_by_group", "modified_at", "modified_by_user", "modified_by_group", "metainfo", "id", "title", "description", "category_id", "date") VALUES (\'2017-05-21 00:00:00+00:00\'::timestamptz, \'admin\', \'admin\', \'2017-05-21 00:00:00+00:00\'::timestamptz, \'admin\', \'admin\', \'{}\'::jsonb, \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid, \'winstonsmith\', NULL, \'note-act-source\', NULL)',
      'SELECT "alexandria_core_document"."created_at", "alexandria_core_document"."created_by_user", "alexandria_core_document"."created_by_group", "alexandria_core_document"."modified_at", "alexandria_core_document"."modified_by_user", "alexandria_core_document"."modified_by_group", "alexandria_core_document"."metainfo", "alexandria_core_document"."id", "alexandria_core_document"."title", "alexandria_core_document"."description", "alexandria_core_document"."category_id", "alexandria_core_document"."date" FROM "alexandria_core_document" WHERE "alexandria_core_document"."id" = \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid LIMIT 21',
      'SELECT "alexandria_core_category"."created_at", "alexandria_core_category"."created_by_user", "alexandria_core_category"."created_by_group", "alexandria_core_category"."modified_at", "alexandria_core_category"."modified_by_user", "alexandria_core_category"."modified_by_group", "alexandria_core_category"."metainfo", "alexandria_core_category"."slug", "alexandria_core_category"."name", "alexandria_core_category"."description", "alexandria_core_category"."allowed_mime_types", "alexandria_core_category"."color", "alexandria_core_category"."parent_id", "alexandria_core_category"."sort" FROM "alexandria_core_category" WHERE "alexandria_core_category"."slug" = \'note-act-source\' LIMIT 21',
      'INSERT INTO "alexandria_core_file" ("created_at", "created_by_user", "created_by_group", "modified_at", "modified_by_user", "modified_by_group", "metainfo", "id", "variant", "original_id", "name", "document_id", "checksum", "encryption_status", "content_vector", "content_text", "language", "content", "mime_type", "size") VALUES (\'2017-05-21 00:00:00+00:00\'::timestamptz, \'admin\', \'admin\', \'2017-05-21 00:00:00+00:00\'::timestamptz, \'admin\', \'admin\', \'{}\'::jsonb, \'ea416ed0759d46a8de58f63a59077499\'::uuid, \'original\', NULL, \'foo.pdf\', \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid, NULL, NULL, NULL, NULL, NULL, \'ea416ed0-759d-46a8-de58-f63a59077499_foo.pdf\', \'application/pdf\', 67)',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."id" = \'ea416ed0759d46a8de58f63a59077499\'::uuid LIMIT 21',
      'UPDATE "alexandria_core_file" SET "checksum" = \'sha256:a154d301b8eb0a1af4c32bb560689af62fd1afd50221533cb414191babbc9fef\' WHERE "alexandria_core_file"."id" = \'ea416ed0759d46a8de58f63a59077499\'::uuid',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."id" = \'ea416ed0759d46a8de58f63a59077499\'::uuid LIMIT 21',
      'SELECT "alexandria_core_document"."created_at", "alexandria_core_document"."created_by_user", "alexandria_core_document"."created_by_group", "alexandria_core_document"."modified_at", "alexandria_core_document"."modified_by_user", "alexandria_core_document"."modified_by_group", "alexandria_core_document"."metainfo", "alexandria_core_document"."id", "alexandria_core_document"."title", "alexandria_core_document"."description", "alexandria_core_document"."category_id", "alexandria_core_document"."date" FROM "alexandria_core_document" WHERE "alexandria_core_document"."id" = \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid LIMIT 21',
      'UPDATE "alexandria_core_file" SET "content_vector" = (((setweight(to_tsvector(COALESCE(\'foo\', \'\')), \'D\') || setweight(to_tsvector(COALESCE(\'winstonsmith\', \'\')), \'A\')) || setweight(to_tsvector(COALESCE(\'\', \'\')), \'B\')) || setweight(to_tsvector(\'english\'::regconfig, COALESCE(\'Important text\', \'\')), \'C\')), "language" = \'en\', "content_text" = \'Important text\' WHERE "alexandria_core_file"."id" = \'ea416ed0759d46a8de58f63a59077499\'::uuid',
      'SELECT COUNT(*) AS "__count" FROM "alexandria_core_file" WHERE "alexandria_core_file"."original_id" = \'ea416ed0759d46a8de58f63a59077499\'::uuid',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."id" = \'ea416ed0759d46a8de58f63a59077499\'::uuid LIMIT 21',
      'COMMIT',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."document_id" = \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid ORDER BY "alexandria_core_file"."created_at" DESC',
      'SELECT 1 AS "a" FROM "alexandria_core_tag" INNER JOIN "alexandria_core_document_tags" ON ("alexandria_core_tag"."id" = "alexandria_core_document_tags"."tag_id") WHERE "alexandria_core_document_tags"."document_id" = \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid LIMIT 1',
      'SELECT "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" INNER JOIN "alexandria_core_document_tags" ON ("alexandria_core_tag"."id" = "alexandria_core_document_tags"."tag_id") WHERE "alexandria_core_document_tags"."document_id" = \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid',
      'SELECT 1 AS "a" FROM "alexandria_core_mark" INNER JOIN "alexandria_core_document_marks" ON ("alexandria_core_mark"."slug" = "alexandria_core_document_marks"."mark_id") WHERE "alexandria_core_document_marks"."document_id" = \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid LIMIT 1',
      'SELECT "alexandria_core_mark"."created_at", "alexandria_core_mark"."created_by_user", "alexandria_core_mark"."created_by_group", "alexandria_core_mark"."modified_at", "alexandria_core_mark"."modified_by_user", "alexandria_core_mark"."modified_by_group", "alexandria_core_mark"."metainfo", "alexandria_core_mark"."slug", "alexandria_core_mark"."name", "alexandria_core_mark"."description" FROM "alexandria_core_mark" INNER JOIN "alexandria_core_document_marks" ON ("alexandria_core_mark"."slug" = "alexandria_core_document_marks"."mark_id") WHERE "alexandria_core_document_marks"."document_id" = \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid',
    ]),
    'query_count': 19,
    'request': dict({
      'CONTENT_LENGTH': '388',
      'CONTENT_TYPE': 'multipart/form-data; boundary=BoUnDaRyStRiNg; charset=utf-8',
      'PATH_INFO': '/api/v1/documents',
      'QUERY_STRING': '',
      'REQUEST_METHOD': 'POST',
      'SERVER_PORT': '80',
    }),
    'request_payload': dict({
      'content': BytesIO(
        closed=False,
        name='foo.pdf',
      ),
      'data': BytesIO(
        closed=False,
      ),
    }),
    'response': dict({
      'data': dict({
        'attributes': dict({
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'date': None,
          'description': None,
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'title': 'winstonsmith',
        }),
        'id': 'f561aaf6-ef0b-f14d-4208-bb46a4ccb3ad',
        'relationships': dict({
          'category': dict({
            'data': dict({
              'id': 'note-act-source',
              'type': 'categories',
            }),
          }),
          'files': dict({
            'data': list([
              dict({
                'id': 'ea416ed0-759d-46a8-de58-f63a59077499',
                'type': 'files',
              }),
            ]),
            'meta': dict({
              'count': 1,
            }),
          }),
          'marks': dict({
            'data': list([
            ]),
            'meta': dict({
              'count': 0,
            }),
          }),
          'tags': dict({
            'data': list([
            ]),
            'meta': dict({
              'count': 0,
            }),
          }),
        }),
        'type': 'documents',
      }),
    }),
    'status': 201,
  })
# ---
# name: test_api_create[FileViewSet]
  dict({
    'queries': list([
      'SELECT "alexandria_core_document"."created_at", "alexandria_core_document"."created_by_user", "alexandria_core_document"."created_by_group", "alexandria_core_document"."modified_at", "alexandria_core_document"."modified_by_user", "alexandria_core_document"."modified_by_group", "alexandria_core_document"."metainfo", "alexandria_core_document"."id", "alexandria_core_document"."title", "alexandria_core_document"."description", "alexandria_core_document"."category_id", "alexandria_core_document"."date" FROM "alexandria_core_document" WHERE "alexandria_core_document"."id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid LIMIT 21',
      'SELECT "alexandria_core_category"."created_at", "alexandria_core_category"."created_by_user", "alexandria_core_category"."created_by_group", "alexandria_core_category"."modified_at", "alexandria_core_category"."modified_by_user", "alexandria_core_category"."modified_by_group", "alexandria_core_category"."metainfo", "alexandria_core_category"."slug", "alexandria_core_category"."name", "alexandria_core_category"."description", "alexandria_core_category"."allowed_mime_types", "alexandria_core_category"."color", "alexandria_core_category"."parent_id", "alexandria_core_category"."sort" FROM "alexandria_core_category" WHERE "alexandria_core_category"."slug" = \'note-act-source\' LIMIT 21',
      'INSERT INTO "alexandria_core_file" ("created_at", "created_by_user", "created_by_group", "modified_at", "modified_by_user", "modified_by_group", "metainfo", "id", "variant", "original_id", "name", "document_id", "checksum", "encryption_status", "content_vector", "content_text", "language", "content", "mime_type", "size") VALUES (\'2017-05-21 00:00:00+00:00\'::timestamptz, \'admin\', \'admin\', \'2017-05-21 00:00:00+00:00\'::timestamptz, \'admin\', \'admin\', \'{}\'::jsonb, \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid, \'original\', NULL, \'foo.txt\', \'9dd4e461268c8034f5c8564e155c67a6\'::uuid, NULL, NULL, NULL, NULL, NULL, \'f561aaf6-ef0b-f14d-4208-bb46a4ccb3ad_foo.txt\', \'text/plain\', 11)',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."id" = \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid LIMIT 21',
      'UPDATE "alexandria_core_file" SET "checksum" = \'sha256:945db0f84bf4ec45cf1c4835cb61848210d64c3867f5a3d78f55ca18e4a98879\' WHERE "alexandria_core_file"."id" = \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."id" = \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid LIMIT 21',
      'SELECT "alexandria_core_document"."created_at", "alexandria_core_document"."created_by_user", "alexandria_core_document"."created_by_group", "alexandria_core_document"."modified_at", "alexandria_core_document"."modified_by_user", "alexandria_core_document"."modified_by_group", "alexandria_core_document"."metainfo", "alexandria_core_document"."id", "alexandria_core_document"."title", "alexandria_core_document"."description", "alexandria_core_document"."category_id", "alexandria_core_document"."date" FROM "alexandria_core_document" WHERE "alexandria_core_document"."id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid LIMIT 21',
      '''
        UPDATE "alexandria_core_file" SET "content_vector" = (((setweight(to_tsvector(COALESCE('foo', '')), 'D') || setweight(to_tsvector(COALESCE('Michael Edwards', '')), 'A')) || setweight(to_tsvector(COALESCE('Open else look tree arm responsibility week. Environmental statement bag someone them style.
        Public these health team change. Tax final upon stay sing middle suggest.', '')), 'B')) || setweight(to_tsvector('english'::regconfig, COALESCE('Important text', '')), 'C')), "language" = 'en', "content_text" = 'Important text' WHERE "alexandria_core_file"."id" = 'f561aaf6ef0bf14d4208bb46a4ccb3ad'::uuid
      ''',
      'SELECT COUNT(*) AS "__count" FROM "alexandria_core_file" WHERE "alexandria_core_file"."original_id" = \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."id" = \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid LIMIT 21',
      'SELECT "alexandria_core_document"."created_at", "alexandria_core_document"."created_by_user", "alexandria_core_document"."created_by_group", "alexandria_core_document"."modified_at", "alexandria_core_document"."modified_by_user", "alexandria_core_document"."modified_by_group", "alexandria_core_document"."metainfo", "alexandria_core_document"."id", "alexandria_core_document"."title", "alexandria_core_document"."description", "alexandria_core_document"."category_id", "alexandria_core_document"."date" FROM "alexandria_core_document" WHERE "alexandria_core_document"."id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid LIMIT 21',
      'INSERT INTO "alexandria_core_file" ("created_at", "created_by_user", "created_by_group", "modified_at", "modified_by_user", "modified_by_group", "metainfo", "id", "variant", "original_id", "name", "document_id", "checksum", "encryption_status", "content_vector", "content_text", "language", "content", "mime_type", "size") VALUES (\'2017-05-21 00:00:00+00:00\'::timestamptz, NULL, NULL, \'2017-05-21 00:00:00+00:00\'::timestamptz, NULL, NULL, \'{}\'::jsonb, \'ea416ed0759d46a8de58f63a59077499\'::uuid, \'thumbnail\', \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid, \'foo.txt_preview.jpg\', \'9dd4e461268c8034f5c8564e155c67a6\'::uuid, NULL, NULL, NULL, NULL, NULL, \'ea416ed0-759d-46a8-de58-f63a59077499_foo.txt_preview.jpg\', \'image/jpeg\', 11)',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."id" = \'ea416ed0759d46a8de58f63a59077499\'::uuid LIMIT 21',
      'UPDATE "alexandria_core_file" SET "checksum" = \'sha256:62de99e0583c14ad3afd5778eb09e73d9d517e8c509a15490ce6020f2bbafab0\' WHERE "alexandria_core_file"."id" = \'ea416ed0759d46a8de58f63a59077499\'::uuid',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."original_id" = \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid ORDER BY "alexandria_core_file"."created_at" DESC',
    ]),
    'query_count': 15,
    'request': dict({
      'CONTENT_LENGTH': '342',
      'CONTENT_TYPE': 'multipart/form-data; boundary=BoUnDaRyStRiNg; charset=utf-8',
      'PATH_INFO': '/api/v1/files',
      'QUERY_STRING': '',
      'REQUEST_METHOD': 'POST',
      'SERVER_PORT': '80',
    }),
    'request_payload': dict({
      'content': BytesIO(
        closed=False,
      ),
      'document': '9dd4e461-268c-8034-f5c8-564e155c67a6',
      'name': 'foo.txt',
    }),
    'response': dict({
      'data': dict({
        'attributes': dict({
          'checksum': None,
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'download-url': 'http://testserver/api/v1/files/f561aaf6-ef0b-f14d-4208-bb46a4ccb3ad/download?expires=1495325100&signature=b1zEze_szPmFIwN-fjAHmUm-bLQ5NWr9YXPV7Fg9JWU',
          'metainfo': dict({
          }),
          'mime-type': 'text/plain',
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'name': 'foo.txt',
          'size': 11,
          'variant': 'original',
        }),
        'id': 'f561aaf6-ef0b-f14d-4208-bb46a4ccb3ad',
        'relationships': dict({
          'document': dict({
            'data': dict({
              'id': '9dd4e461-268c-8034-f5c8-564e155c67a6',
              'type': 'documents',
            }),
          }),
          'original': dict({
            'data': None,
          }),
          'renderings': dict({
            'data': list([
              dict({
                'id': 'ea416ed0-759d-46a8-de58-f63a59077499',
                'type': 'files',
              }),
            ]),
            'meta': dict({
              'count': 1,
            }),
          }),
        }),
        'type': 'files',
      }),
    }),
    'status': 201,
  })
# ---
# name: test_api_create[MarkViewSet]
  dict({
    'queries': list([
      '''
        INSERT INTO "alexandria_core_mark" ("created_at", "created_by_user", "created_by_group", "modified_at", "modified_by_user", "modified_by_group", "metainfo", "slug", "name", "description") VALUES ('2017-05-21 00:00:00+00:00'::timestamptz, 'admin', 'admin', '2017-05-21 00:00:00+00:00'::timestamptz, 'admin', 'admin', '{}'::jsonb, 'erin-scott', '"en"=>"Erin Scott","de"=>"","fr"=>""'::hstore, '"en"=>"Far bit among again. Station story first. Team suggest traditional boy above.
        Central meeting anyone remember. There today material minute ago get. Range whose scientist draw free property consider.","de"=>"","fr"=>""'::hstore)
      ''',
    ]),
    'query_count': 1,
    'request': dict({
      'CONTENT_LENGTH': '540',
      'CONTENT_TYPE': 'application/vnd.api+json',
      'PATH_INFO': '/api/v1/marks',
      'QUERY_STRING': '',
      'REQUEST_METHOD': 'POST',
      'SERVER_PORT': '80',
    }),
    'request_payload': dict({
      'data': dict({
        'attributes': dict({
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'description': dict({
            'de': '',
            'en': '''
              Far bit among again. Station story first. Team suggest traditional boy above.
              Central meeting anyone remember. There today material minute ago get. Range whose scientist draw free property consider.
            ''',
            'fr': '',
          }),
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'name': dict({
            'de': '',
            'en': 'Erin Scott',
            'fr': '',
          }),
        }),
        'id': 'note-act-source',
        'type': 'marks',
      }),
    }),
    'response': dict({
      'data': dict({
        'attributes': dict({
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'description': dict({
            'de': '',
            'en': '''
              Far bit among again. Station story first. Team suggest traditional boy above.
              Central meeting anyone remember. There today material minute ago get. Range whose scientist draw free property consider.
            ''',
            'fr': '',
          }),
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'name': dict({
            'de': '',
            'en': 'Erin Scott',
            'fr': '',
          }),
        }),
        'id': 'erin-scott',
        'type': 'marks',
      }),
    }),
    'status': 201,
  })
# ---
# name: test_api_create[TagViewSet]
  dict({
    'queries': list([
      '''
        INSERT INTO "alexandria_core_tag" ("created_at", "created_by_user", "created_by_group", "modified_at", "modified_by_user", "modified_by_group", "metainfo", "id", "name", "description", "tag_synonym_group_id") VALUES ('2017-05-21 00:00:00+00:00'::timestamptz, 'admin', 'admin', '2017-05-21 00:00:00+00:00'::timestamptz, 'admin', 'admin', '{}'::jsonb, '9336ebf25087d91c818ee6e9ec29f8c1'::uuid, 'Pamela Horton', '"en"=>"Effort meet relationship far. Option program interesting station. First where during teach country talk across.
        Argue move appear catch toward help wind. Material minute ago get.","de"=>"","fr"=>""'::hstore, NULL)
      ''',
    ]),
    'query_count': 1,
    'request': dict({
      'CONTENT_LENGTH': '572',
      'CONTENT_TYPE': 'application/vnd.api+json',
      'PATH_INFO': '/api/v1/tags',
      'QUERY_STRING': '',
      'REQUEST_METHOD': 'POST',
      'SERVER_PORT': '80',
    }),
    'request_payload': dict({
      'data': dict({
        'attributes': dict({
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'description': dict({
            'de': '',
            'en': '''
              Effort meet relationship far. Option program interesting station. First where during teach country talk across.
              Argue move appear catch toward help wind. Material minute ago get.
            ''',
            'fr': '',
          }),
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'name': 'Pamela Horton',
        }),
        'id': '9dd4e461-268c-8034-f5c8-564e155c67a6',
        'relationships': dict({
          'tag-synonym-group': dict({
            'data': None,
          }),
        }),
        'type': 'tags',
      }),
    }),
    'response': dict({
      'data': dict({
        'attributes': dict({
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'description': dict({
            'de': '',
            'en': '''
              Effort meet relationship far. Option program interesting station. First where during teach country talk across.
              Argue move appear catch toward help wind. Material minute ago get.
            ''',
            'fr': '',
          }),
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'name': 'Pamela Horton',
        }),
        'id': '9336ebf2-5087-d91c-818e-e6e9ec29f8c1',
        'relationships': dict({
          'tag-synonym-group': dict({
            'data': None,
          }),
        }),
        'type': 'tags',
      }),
    }),
    'status': 201,
  })
# ---
# name: test_api_destroy[CategoryViewSet]
  dict({
    'queries': list([
    ]),
    'query_count': 0,
    'request': dict({
      'PATH_INFO': '/api/v1/categories/note-act-source',
      'QUERY_STRING': '',
      'REQUEST_METHOD': 'DELETE',
      'SERVER_PORT': '80',
    }),
    'request_payload': None,
    'status': 405,
  })
# ---
# name: test_api_destroy[DocumentViewSet]
  dict({
    'queries': list([
      'SELECT 1 AS "a" FROM "alexandria_core_document" LIMIT 1',
      'SELECT "alexandria_core_document"."created_at", "alexandria_core_document"."created_by_user", "alexandria_core_document"."created_by_group", "alexandria_core_document"."modified_at", "alexandria_core_document"."modified_by_user", "alexandria_core_document"."modified_by_group", "alexandria_core_document"."metainfo", "alexandria_core_document"."id", "alexandria_core_document"."title", "alexandria_core_document"."description", "alexandria_core_document"."category_id", "alexandria_core_document"."date" FROM "alexandria_core_document" WHERE "alexandria_core_document"."id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid LIMIT 21',
      'SELECT ("alexandria_core_document_marks"."document_id") AS "_prefetch_related_val_document_id", "alexandria_core_mark"."created_at", "alexandria_core_mark"."created_by_user", "alexandria_core_mark"."created_by_group", "alexandria_core_mark"."modified_at", "alexandria_core_mark"."modified_by_user", "alexandria_core_mark"."modified_by_group", "alexandria_core_mark"."metainfo", "alexandria_core_mark"."slug", "alexandria_core_mark"."name", "alexandria_core_mark"."description" FROM "alexandria_core_mark" INNER JOIN "alexandria_core_document_marks" ON ("alexandria_core_mark"."slug" = "alexandria_core_document_marks"."mark_id") WHERE "alexandria_core_document_marks"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
      'SELECT ("alexandria_core_document_tags"."document_id") AS "_prefetch_related_val_document_id", "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" INNER JOIN "alexandria_core_document_tags" ON ("alexandria_core_tag"."id" = "alexandria_core_document_tags"."tag_id") WHERE "alexandria_core_document_tags"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid) ORDER BY "alexandria_core_file"."created_at" DESC',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid) ORDER BY "alexandria_core_file"."created_at" DESC',
      'BEGIN',
      'DELETE FROM "alexandria_core_document_tags" WHERE "alexandria_core_document_tags"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
      'DELETE FROM "alexandria_core_document_marks" WHERE "alexandria_core_document_marks"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
      'DELETE FROM "alexandria_core_document" WHERE "alexandria_core_document"."id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
      'COMMIT',
    ]),
    'query_count': 11,
    'request': dict({
      'PATH_INFO': '/api/v1/documents/9dd4e461-268c-8034-f5c8-564e155c67a6',
      'QUERY_STRING': '',
      'REQUEST_METHOD': 'DELETE',
      'SERVER_PORT': '80',
    }),
    'request_payload': None,
    'status': 204,
  })
# ---
# name: test_api_destroy[FileViewSet]
  dict({
    'queries': list([
      'SELECT 1 AS "a" FROM "alexandria_core_file" LIMIT 1',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."id" = \'9336ebf25087d91c818ee6e9ec29f8c1\'::uuid LIMIT 21',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."original_id" IN (\'9336ebf25087d91c818ee6e9ec29f8c1\'::uuid) ORDER BY "alexandria_core_file"."created_at" DESC',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."original_id" IN (\'9336ebf25087d91c818ee6e9ec29f8c1\'::uuid) ORDER BY "alexandria_core_file"."created_at" DESC',
      'BEGIN',
      'DELETE FROM "alexandria_core_file" WHERE "alexandria_core_file"."id" IN (\'9336ebf25087d91c818ee6e9ec29f8c1\'::uuid)',
      'COMMIT',
    ]),
    'query_count': 7,
    'request': dict({
      'PATH_INFO': '/api/v1/files/9336ebf2-5087-d91c-818e-e6e9ec29f8c1',
      'QUERY_STRING': '',
      'REQUEST_METHOD': 'DELETE',
      'SERVER_PORT': '80',
    }),
    'request_payload': None,
    'status': 204,
  })
# ---
# name: test_api_destroy[MarkViewSet]
  dict({
    'queries': list([
      'SELECT DISTINCT 1 AS "a" FROM "alexandria_core_mark" LIMIT 1',
      'SELECT DISTINCT "alexandria_core_mark"."created_at", "alexandria_core_mark"."created_by_user", "alexandria_core_mark"."created_by_group", "alexandria_core_mark"."modified_at", "alexandria_core_mark"."modified_by_user", "alexandria_core_mark"."modified_by_group", "alexandria_core_mark"."metainfo", "alexandria_core_mark"."slug", "alexandria_core_mark"."name", "alexandria_core_mark"."description" FROM "alexandria_core_mark" WHERE "alexandria_core_mark"."slug" = \'note-act-source\' LIMIT 21',
      'BEGIN',
      'DELETE FROM "alexandria_core_document_marks" WHERE "alexandria_core_document_marks"."mark_id" IN (\'note-act-source\')',
      'DELETE FROM "alexandria_core_mark" WHERE "alexandria_core_mark"."slug" IN (\'note-act-source\')',
      'COMMIT',
    ]),
    'query_count': 6,
    'request': dict({
      'PATH_INFO': '/api/v1/marks/note-act-source',
      'QUERY_STRING': '',
      'REQUEST_METHOD': 'DELETE',
      'SERVER_PORT': '80',
    }),
    'request_payload': None,
    'status': 204,
  })
# ---
# name: test_api_destroy[TagViewSet]
  dict({
    'queries': list([
      'SELECT DISTINCT 1 AS "a" FROM "alexandria_core_tag" LIMIT 1',
      'SELECT DISTINCT "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" WHERE "alexandria_core_tag"."id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid LIMIT 21',
      'BEGIN',
      'DELETE FROM "alexandria_core_document_tags" WHERE "alexandria_core_document_tags"."tag_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
      'DELETE FROM "alexandria_core_tag" WHERE "alexandria_core_tag"."id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
      'COMMIT',
    ]),
    'query_count': 6,
    'request': dict({
      'PATH_INFO': '/api/v1/tags/9dd4e461-268c-8034-f5c8-564e155c67a6',
      'QUERY_STRING': '',
      'REQUEST_METHOD': 'DELETE',
      'SERVER_PORT': '80',
    }),
    'request_payload': None,
    'status': 204,
  })
# ---
# name: test_api_detail[CategoryViewSet]
  dict({
    'queries': list([
      'SELECT 1 AS "a" FROM "alexandria_core_category" LIMIT 1',
      'SELECT "alexandria_core_category"."created_at", "alexandria_core_category"."created_by_user", "alexandria_core_category"."created_by_group", "alexandria_core_category"."modified_at", "alexandria_core_category"."modified_by_user", "alexandria_core_category"."modified_by_group", "alexandria_core_category"."metainfo", "alexandria_core_category"."slug", "alexandria_core_category"."name", "alexandria_core_category"."description", "alexandria_core_category"."allowed_mime_types", "alexandria_core_category"."color", "alexandria_core_category"."parent_id", "alexandria_core_category"."sort" FROM "alexandria_core_category" WHERE "alexandria_core_category"."slug" = \'note-act-source\' LIMIT 21',
      'SELECT "alexandria_core_category"."created_at", "alexandria_core_category"."created_by_user", "alexandria_core_category"."created_by_group", "alexandria_core_category"."modified_at", "alexandria_core_category"."modified_by_user", "alexandria_core_category"."modified_by_group", "alexandria_core_category"."metainfo", "alexandria_core_category"."slug", "alexandria_core_category"."name", "alexandria_core_category"."description", "alexandria_core_category"."allowed_mime_types", "alexandria_core_category"."color", "alexandria_core_category"."parent_id", "alexandria_core_category"."sort" FROM "alexandria_core_category" WHERE "alexandria_core_category"."parent_id" IN (\'note-act-source\') ORDER BY "alexandria_core_category"."sort" ASC',
    ]),
    'query_count': 3,
    'request': dict({
      'CONTENT_TYPE': 'application/octet-stream',
      'PATH_INFO': '/api/v1/categories/note-act-source',
      'QUERY_STRING': 'include=parent%2Cchildren',
      'REQUEST_METHOD': 'GET',
      'SERVER_PORT': '80',
    }),
    'request_payload': None,
    'response': dict({
      'data': dict({
        'attributes': dict({
          'allowed-mime-types': None,
          'color': '#093f87',
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'description': dict({
            'de': '',
            'en': '''
              Far bit among again. Station story first. Team suggest traditional boy above.
              Central meeting anyone remember. There today material minute ago get. Range whose scientist draw free property consider.
            ''',
            'fr': '',
          }),
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'name': dict({
            'de': '',
            'en': 'Erin Scott',
            'fr': '',
          }),
          'sort': None,
        }),
        'id': 'note-act-source',
        'relationships': dict({
          'children': dict({
            'data': list([
            ]),
            'meta': dict({
              'count': 0,
            }),
          }),
          'parent': dict({
            'data': None,
          }),
        }),
        'type': 'categories',
      }),
    }),
    'status': 200,
  })
# ---
# name: test_api_detail[DocumentViewSet]
  dict({
    'queries': list([
      'SELECT 1 AS "a" FROM "alexandria_core_document" LIMIT 1',
      'SELECT "alexandria_core_document"."created_at", "alexandria_core_document"."created_by_user", "alexandria_core_document"."created_by_group", "alexandria_core_document"."modified_at", "alexandria_core_document"."modified_by_user", "alexandria_core_document"."modified_by_group", "alexandria_core_document"."metainfo", "alexandria_core_document"."id", "alexandria_core_document"."title", "alexandria_core_document"."description", "alexandria_core_document"."category_id", "alexandria_core_document"."date", "alexandria_core_category"."created_at", "alexandria_core_category"."created_by_user", "alexandria_core_category"."created_by_group", "alexandria_core_category"."modified_at", "alexandria_core_category"."modified_by_user", "alexandria_core_category"."modified_by_group", "alexandria_core_category"."metainfo", "alexandria_core_category"."slug", "alexandria_core_category"."name", "alexandria_core_category"."description", "alexandria_core_category"."allowed_mime_types", "alexandria_core_category"."color", "alexandria_core_category"."parent_id", "alexandria_core_category"."sort", T3."created_at", T3."created_by_user", T3."created_by_group", T3."modified_at", T3."modified_by_user", T3."modified_by_group", T3."metainfo", T3."slug", T3."name", T3."description", T3."allowed_mime_types", T3."color", T3."parent_id", T3."sort" FROM "alexandria_core_document" LEFT OUTER JOIN "alexandria_core_category" ON ("alexandria_core_document"."category_id" = "alexandria_core_category"."slug") LEFT OUTER JOIN "alexandria_core_category" T3 ON ("alexandria_core_category"."parent_id" = T3."slug") WHERE "alexandria_core_document"."id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid LIMIT 21',
      'SELECT "alexandria_core_category"."created_at", "alexandria_core_category"."created_by_user", "alexandria_core_category"."created_by_group", "alexandria_core_category"."modified_at", "alexandria_core_category"."modified_by_user", "alexandria_core_category"."modified_by_group", "alexandria_core_category"."metainfo", "alexandria_core_category"."slug", "alexandria_core_category"."name", "alexandria_core_category"."description", "alexandria_core_category"."allowed_mime_types", "alexandria_core_category"."color", "alexandria_core_category"."parent_id", "alexandria_core_category"."sort" FROM "alexandria_core_category" WHERE "alexandria_core_category"."parent_id" IN (\'note-act-source\') ORDER BY "alexandria_core_category"."sort" ASC',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid) ORDER BY "alexandria_core_file"."created_at" DESC',
      'SELECT ("alexandria_core_document_marks"."document_id") AS "_prefetch_related_val_document_id", "alexandria_core_mark"."created_at", "alexandria_core_mark"."created_by_user", "alexandria_core_mark"."created_by_group", "alexandria_core_mark"."modified_at", "alexandria_core_mark"."modified_by_user", "alexandria_core_mark"."modified_by_group", "alexandria_core_mark"."metainfo", "alexandria_core_mark"."slug", "alexandria_core_mark"."name", "alexandria_core_mark"."description" FROM "alexandria_core_mark" INNER JOIN "alexandria_core_document_marks" ON ("alexandria_core_mark"."slug" = "alexandria_core_document_marks"."mark_id") WHERE "alexandria_core_document_marks"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
      'SELECT ("alexandria_core_document_tags"."document_id") AS "_prefetch_related_val_document_id", "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" INNER JOIN "alexandria_core_document_tags" ON ("alexandria_core_tag"."id" = "alexandria_core_document_tags"."tag_id") WHERE "alexandria_core_document_tags"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
    ]),
    'query_count': 6,
    'request': dict({
      'CONTENT_TYPE': 'application/octet-stream',
      'PATH_INFO': '/api/v1/documents/9dd4e461-268c-8034-f5c8-564e155c67a6',
      'QUERY_STRING': 'include=category%2Ctags%2Cmarks%2Cfiles',
      'REQUEST_METHOD': 'GET',
      'SERVER_PORT': '80',
    }),
    'request_payload': None,
    'response': dict({
      'data': dict({
        'attributes': dict({
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'date': '1999-11-26',
          'description': '''
            Open else look tree arm responsibility week. Environmental statement bag someone them style.
            Public these health team change. Tax final upon stay sing middle suggest.
          ''',
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'title': 'Michael Edwards',
        }),
        'id': '9dd4e461-268c-8034-f5c8-564e155c67a6',
        'relationships': dict({
          'category': dict({
            'data': dict({
              'id': 'note-act-source',
              'type': 'categories',
            }),
          }),
          'files': dict({
            'data': list([
            ]),
            'meta': dict({
              'count': 0,
            }),
          }),
          'marks': dict({
            'data': list([
              dict({
                'id': 'father-should-keep',
                'type': 'marks',
              }),
            ]),
            'meta': dict({
              'count': 1,
            }),
          }),
          'tags': dict({
            'data': list([
              dict({
                'id': '9336ebf2-5087-d91c-818e-e6e9ec29f8c1',
                'type': 'tags',
              }),
            ]),
            'meta': dict({
              'count': 1,
            }),
          }),
        }),
        'type': 'documents',
      }),
      'included': list([
        dict({
          'attributes': dict({
            'allowed-mime-types': None,
            'color': '#093f87',
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': '''
                Far bit among again. Station story first. Team suggest traditional boy above.
                Central meeting anyone remember. There today material minute ago get. Range whose scientist draw free property consider.
              ''',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': dict({
              'de': '',
              'en': 'Erin Scott',
              'fr': '',
            }),
            'sort': None,
          }),
          'id': 'note-act-source',
          'relationships': dict({
            'children': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
            'parent': dict({
              'data': None,
            }),
          }),
          'type': 'categories',
        }),
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': '''
                Hope star check record well.
                With Mr letter eye way society. Move enter them his half long.
              ''',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': dict({
              'de': '',
              'en': 'Philip Holmes',
              'fr': '',
            }),
          }),
          'id': 'father-should-keep',
          'type': 'marks',
        }),
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': '''
                History off reason career. Wide even material police. List usually large exactly out.
                Difficult make listen unit seven lead effort. Race couple identify.
              ''',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': 'Miss Ebony Gaines',
          }),
          'id': '9336ebf2-5087-d91c-818e-e6e9ec29f8c1',
          'relationships': dict({
            'tag-synonym-group': dict({
              'data': None,
            }),
          }),
          'type': 'tags',
        }),
      ]),
    }),
    'status': 200,
  })
# ---
# name: test_api_detail[FileViewSet]
  dict({
    'queries': list([
      'SELECT 1 AS "a" FROM "alexandria_core_file" LIMIT 1',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."id" = \'9336ebf25087d91c818ee6e9ec29f8c1\'::uuid LIMIT 21',
      'SELECT "alexandria_core_document"."created_at", "alexandria_core_document"."created_by_user", "alexandria_core_document"."created_by_group", "alexandria_core_document"."modified_at", "alexandria_core_document"."modified_by_user", "alexandria_core_document"."modified_by_group", "alexandria_core_document"."metainfo", "alexandria_core_document"."id", "alexandria_core_document"."title", "alexandria_core_document"."description", "alexandria_core_document"."category_id", "alexandria_core_document"."date" FROM "alexandria_core_document" WHERE ("alexandria_core_document"."id") IN ((\'9dd4e461268c8034f5c8564e155c67a6\'::uuid))',
      'SELECT ("alexandria_core_document_marks"."document_id") AS "_prefetch_related_val_document_id", "alexandria_core_mark"."created_at", "alexandria_core_mark"."created_by_user", "alexandria_core_mark"."created_by_group", "alexandria_core_mark"."modified_at", "alexandria_core_mark"."modified_by_user", "alexandria_core_mark"."modified_by_group", "alexandria_core_mark"."metainfo", "alexandria_core_mark"."slug", "alexandria_core_mark"."name", "alexandria_core_mark"."description" FROM "alexandria_core_mark" INNER JOIN "alexandria_core_document_marks" ON ("alexandria_core_mark"."slug" = "alexandria_core_document_marks"."mark_id") WHERE "alexandria_core_document_marks"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
      'SELECT ("alexandria_core_document_tags"."document_id") AS "_prefetch_related_val_document_id", "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" INNER JOIN "alexandria_core_document_tags" ON ("alexandria_core_tag"."id" = "alexandria_core_document_tags"."tag_id") WHERE "alexandria_core_document_tags"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid) ORDER BY "alexandria_core_file"."created_at" DESC',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."original_id" IN (\'9336ebf25087d91c818ee6e9ec29f8c1\'::uuid) ORDER BY "alexandria_core_file"."created_at" DESC',
    ]),
    'query_count': 7,
    'request': dict({
      'CONTENT_TYPE': 'application/octet-stream',
      'PATH_INFO': '/api/v1/files/9336ebf2-5087-d91c-818e-e6e9ec29f8c1',
      'QUERY_STRING': 'include=document%2Coriginal%2Crenderings',
      'REQUEST_METHOD': 'GET',
      'SERVER_PORT': '80',
    }),
    'request_payload': None,
    'response': dict({
      'data': dict({
        'attributes': dict({
          'checksum': 'sha256:6e94c5bf30f49e56597aa0cddc0ec3953fe0f9d8cfc71d32b96bcde0372a1bd9',
          'content': BytesIO(
            closed=False,
          ),
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'download-url': 'http://testserver/api/v1/files/9336ebf2-5087-d91c-818e-e6e9ec29f8c1/download?expires=1495325100&signature=Xokw7fliCXiz-2emQ4GyohBY1Vk3sqv1T9dZ_FQcSFM',
          'metainfo': dict({
          }),
          'mime-type': 'text/javascript',
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'name': 'father.png',
          'size': 3030,
          'variant': 'original',
        }),
        'id': '9336ebf2-5087-d91c-818e-e6e9ec29f8c1',
        'relationships': dict({
          'document': dict({
            'data': dict({
              'id': '9dd4e461-268c-8034-f5c8-564e155c67a6',
              'type': 'documents',
            }),
          }),
          'original': dict({
            'data': None,
          }),
          'renderings': dict({
            'data': list([
            ]),
            'meta': dict({
              'count': 0,
            }),
          }),
        }),
        'type': 'files',
      }),
      'included': list([
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'date': '1999-11-26',
            'description': '''
              Open else look tree arm responsibility week. Environmental statement bag someone them style.
              Public these health team change. Tax final upon stay sing middle suggest.
            ''',
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'title': 'Michael Edwards',
          }),
          'id': '9dd4e461-268c-8034-f5c8-564e155c67a6',
          'relationships': dict({
            'category': dict({
              'data': dict({
                'id': 'note-act-source',
                'type': 'categories',
              }),
            }),
            'files': dict({
              'data': list([
                dict({
                  'id': '9336ebf2-5087-d91c-818e-e6e9ec29f8c1',
                  'type': 'files',
                }),
              ]),
              'meta': dict({
                'count': 1,
              }),
            }),
            'marks': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
            'tags': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
          }),
          'type': 'documents',
        }),
      ]),
    }),
    'status': 200,
  })
# ---
# name: test_api_detail[MarkViewSet]
  dict({
    'queries': list([
      'SELECT DISTINCT 1 AS "a" FROM "alexandria_core_mark" LIMIT 1',
      'SELECT DISTINCT "alexandria_core_mark"."created_at", "alexandria_core_mark"."created_by_user", "alexandria_core_mark"."created_by_group", "alexandria_core_mark"."modified_at", "alexandria_core_mark"."modified_by_user", "alexandria_core_mark"."modified_by_group", "alexandria_core_mark"."metainfo", "alexandria_core_mark"."slug", "alexandria_core_mark"."name", "alexandria_core_mark"."description" FROM "alexandria_core_mark" WHERE "alexandria_core_mark"."slug" = \'note-act-source\' LIMIT 21',
    ]),
    'query_count': 2,
    'request': dict({
      'CONTENT_TYPE': 'application/octet-stream',
      'PATH_INFO': '/api/v1/marks/note-act-source',
      'QUERY_STRING': 'include=',
      'REQUEST_METHOD': 'GET',
      'SERVER_PORT': '80',
    }),
    'request_payload': None,
    'response': dict({
      'data': dict({
        'attributes': dict({
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'description': dict({
            'de': '',
            'en': '''
              Far bit among again. Station story first. Team suggest traditional boy above.
              Central meeting anyone remember. There today material minute ago get. Range whose scientist draw free property consider.
            ''',
            'fr': '',
          }),
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'name': dict({
            'de': '',
            'en': 'Erin Scott',
            'fr': '',
          }),
        }),
        'id': 'note-act-source',
        'type': 'marks',
      }),
    }),
    'status': 200,
  })
# ---
# name: test_api_detail[TagViewSet]
  dict({
    'queries': list([
      'SELECT DISTINCT 1 AS "a" FROM "alexandria_core_tag" LIMIT 1',
      'SELECT DISTINCT "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" WHERE "alexandria_core_tag"."id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid LIMIT 21',
    ]),
    'query_count': 2,
    'request': dict({
      'CONTENT_TYPE': 'application/octet-stream',
      'PATH_INFO': '/api/v1/tags/9dd4e461-268c-8034-f5c8-564e155c67a6',
      'QUERY_STRING': 'include=tag_synonym_group',
      'REQUEST_METHOD': 'GET',
      'SERVER_PORT': '80',
    }),
    'request_payload': None,
    'response': dict({
      'data': dict({
        'attributes': dict({
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'description': dict({
            'de': '',
            'en': '''
              Effort meet relationship far. Option program interesting station. First where during teach country talk across.
              Argue move appear catch toward help wind. Material minute ago get.
            ''',
            'fr': '',
          }),
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'name': 'Pamela Horton',
        }),
        'id': '9dd4e461-268c-8034-f5c8-564e155c67a6',
        'relationships': dict({
          'tag-synonym-group': dict({
            'data': None,
          }),
        }),
        'type': 'tags',
      }),
    }),
    'status': 200,
  })
# ---
# name: test_api_list[CategoryViewSet]
  dict({
    'queries': list([
      'SELECT 1 AS "a" FROM "alexandria_core_category" LIMIT 1',
      'SELECT "alexandria_core_category"."created_at", "alexandria_core_category"."created_by_user", "alexandria_core_category"."created_by_group", "alexandria_core_category"."modified_at", "alexandria_core_category"."modified_by_user", "alexandria_core_category"."modified_by_group", "alexandria_core_category"."metainfo", "alexandria_core_category"."slug", "alexandria_core_category"."name", "alexandria_core_category"."description", "alexandria_core_category"."allowed_mime_types", "alexandria_core_category"."color", "alexandria_core_category"."parent_id", "alexandria_core_category"."sort" FROM "alexandria_core_category" ORDER BY "alexandria_core_category"."sort" ASC',
      'SELECT "alexandria_core_category"."created_at", "alexandria_core_category"."created_by_user", "alexandria_core_category"."created_by_group", "alexandria_core_category"."modified_at", "alexandria_core_category"."modified_by_user", "alexandria_core_category"."modified_by_group", "alexandria_core_category"."metainfo", "alexandria_core_category"."slug", "alexandria_core_category"."name", "alexandria_core_category"."description", "alexandria_core_category"."allowed_mime_types", "alexandria_core_category"."color", "alexandria_core_category"."parent_id", "alexandria_core_category"."sort" FROM "alexandria_core_category" WHERE "alexandria_core_category"."parent_id" IN (\'note-act-source\', \'run-too-successful\', \'story-thing-piece\') ORDER BY "alexandria_core_category"."sort" ASC',
    ]),
    'query_count': 3,
    'request': dict({
      'CONTENT_TYPE': 'application/octet-stream',
      'PATH_INFO': '/api/v1/categories',
      'QUERY_STRING': 'include=parent%2Cchildren',
      'REQUEST_METHOD': 'GET',
      'SERVER_PORT': '80',
    }),
    'request_payload': None,
    'response': dict({
      'data': list([
        dict({
          'attributes': dict({
            'allowed-mime-types': None,
            'color': '#093f87',
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': '''
                Far bit among again. Station story first. Team suggest traditional boy above.
                Central meeting anyone remember. There today material minute ago get. Range whose scientist draw free property consider.
              ''',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': dict({
              'de': '',
              'en': 'Erin Scott',
              'fr': '',
            }),
            'sort': None,
          }),
          'id': 'note-act-source',
          'relationships': dict({
            'children': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
            'parent': dict({
              'data': None,
            }),
          }),
          'type': 'categories',
        }),
        dict({
          'attributes': dict({
            'allowed-mime-types': None,
            'color': '#2eba92',
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': '''
                Arm serious live by itself. Project find white continue none president.
                Partner area media increase meeting article. Success provide beyond seek officer player.
              ''',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': dict({
              'de': '',
              'en': 'Timothy Malone',
              'fr': '',
            }),
            'sort': None,
          }),
          'id': 'run-too-successful',
          'relationships': dict({
            'children': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
            'parent': dict({
              'data': None,
            }),
          }),
          'type': 'categories',
        }),
        dict({
          'attributes': dict({
            'allowed-mime-types': None,
            'color': '#eda797',
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': 'Wide happy air represent. Cup debate medical. Today morning standard effort summer.',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': dict({
              'de': '',
              'en': 'Douglas Keller',
              'fr': '',
            }),
            'sort': None,
          }),
          'id': 'story-thing-piece',
          'relationships': dict({
            'children': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
            'parent': dict({
              'data': None,
            }),
          }),
          'type': 'categories',
        }),
      ]),
    }),
    'status': 200,
  })
# ---
# name: test_api_list[DocumentViewSet]
  dict({
    'queries': list([
      'SELECT 1 AS "a" FROM "alexandria_core_document" LIMIT 1',
      'SELECT "alexandria_core_document"."created_at", "alexandria_core_document"."created_by_user", "alexandria_core_document"."created_by_group", "alexandria_core_document"."modified_at", "alexandria_core_document"."modified_by_user", "alexandria_core_document"."modified_by_group", "alexandria_core_document"."metainfo", "alexandria_core_document"."id", "alexandria_core_document"."title", "alexandria_core_document"."description", "alexandria_core_document"."category_id", "alexandria_core_document"."date", "alexandria_core_category"."created_at", "alexandria_core_category"."created_by_user", "alexandria_core_category"."created_by_group", "alexandria_core_category"."modified_at", "alexandria_core_category"."modified_by_user", "alexandria_core_category"."modified_by_group", "alexandria_core_category"."metainfo", "alexandria_core_category"."slug", "alexandria_core_category"."name", "alexandria_core_category"."description", "alexandria_core_category"."allowed_mime_types", "alexandria_core_category"."color", "alexandria_core_category"."parent_id", "alexandria_core_category"."sort", T3."created_at", T3."created_by_user", T3."created_by_group", T3."modified_at", T3."modified_by_user", T3."modified_by_group", T3."metainfo", T3."slug", T3."name", T3."description", T3."allowed_mime_types", T3."color", T3."parent_id", T3."sort" FROM "alexandria_core_document" LEFT OUTER JOIN "alexandria_core_category" ON ("alexandria_core_document"."category_id" = "alexandria_core_category"."slug") LEFT OUTER JOIN "alexandria_core_category" T3 ON ("alexandria_core_category"."parent_id" = T3."slug")',
      'SELECT "alexandria_core_category"."created_at", "alexandria_core_category"."created_by_user", "alexandria_core_category"."created_by_group", "alexandria_core_category"."modified_at", "alexandria_core_category"."modified_by_user", "alexandria_core_category"."modified_by_group", "alexandria_core_category"."metainfo", "alexandria_core_category"."slug", "alexandria_core_category"."name", "alexandria_core_category"."description", "alexandria_core_category"."allowed_mime_types", "alexandria_core_category"."color", "alexandria_core_category"."parent_id", "alexandria_core_category"."sort" FROM "alexandria_core_category" WHERE "alexandria_core_category"."parent_id" IN (\'moment-poor\', \'note-act-source\', \'right-professor\') ORDER BY "alexandria_core_category"."sort" ASC',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid, \'ea416ed0759d46a8de58f63a59077499\'::uuid, \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid) ORDER BY "alexandria_core_file"."created_at" DESC',
      'SELECT ("alexandria_core_document_marks"."document_id") AS "_prefetch_related_val_document_id", "alexandria_core_mark"."created_at", "alexandria_core_mark"."created_by_user", "alexandria_core_mark"."created_by_group", "alexandria_core_mark"."modified_at", "alexandria_core_mark"."modified_by_user", "alexandria_core_mark"."modified_by_group", "alexandria_core_mark"."metainfo", "alexandria_core_mark"."slug", "alexandria_core_mark"."name", "alexandria_core_mark"."description" FROM "alexandria_core_mark" INNER JOIN "alexandria_core_document_marks" ON ("alexandria_core_mark"."slug" = "alexandria_core_document_marks"."mark_id") WHERE "alexandria_core_document_marks"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid, \'ea416ed0759d46a8de58f63a59077499\'::uuid, \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid)',
      'SELECT ("alexandria_core_document_tags"."document_id") AS "_prefetch_related_val_document_id", "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" INNER JOIN "alexandria_core_document_tags" ON ("alexandria_core_tag"."id" = "alexandria_core_document_tags"."tag_id") WHERE "alexandria_core_document_tags"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid, \'ea416ed0759d46a8de58f63a59077499\'::uuid, \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid)',
    ]),
    'query_count': 6,
    'request': dict({
      'CONTENT_TYPE': 'application/octet-stream',
      'PATH_INFO': '/api/v1/documents',
      'QUERY_STRING': 'include=category%2Ctags%2Cmarks%2Cfiles',
      'REQUEST_METHOD': 'GET',
      'SERVER_PORT': '80',
    }),
    'request_payload': None,
    'response': dict({
      'data': list([
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'date': '1999-11-26',
            'description': '''
              Open else look tree arm responsibility week. Environmental statement bag someone them style.
              Public these health team change. Tax final upon stay sing middle suggest.
            ''',
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'title': 'Michael Edwards',
          }),
          'id': '9dd4e461-268c-8034-f5c8-564e155c67a6',
          'relationships': dict({
            'category': dict({
              'data': dict({
                'id': 'note-act-source',
                'type': 'categories',
              }),
            }),
            'files': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
            'marks': dict({
              'data': list([
                dict({
                  'id': 'father-should-keep',
                  'type': 'marks',
                }),
              ]),
              'meta': dict({
                'count': 1,
              }),
            }),
            'tags': dict({
              'data': list([
                dict({
                  'id': '9336ebf2-5087-d91c-818e-e6e9ec29f8c1',
                  'type': 'tags',
                }),
              ]),
              'meta': dict({
                'count': 1,
              }),
            }),
          }),
          'type': 'documents',
        }),
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'date': '2005-06-14',
            'description': '''
              Bank arm serious live by itself. Project find white continue none president. Idea eye plan third program.
              Son success provide beyond. Officer player possible issue ahead suffer.
            ''',
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'title': 'Rebecca Gonzalez',
          }),
          'id': 'f561aaf6-ef0b-f14d-4208-bb46a4ccb3ad',
          'relationships': dict({
            'category': dict({
              'data': dict({
                'id': 'right-professor',
                'type': 'categories',
              }),
            }),
            'files': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
            'marks': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
            'tags': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
          }),
          'type': 'documents',
        }),
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'date': '1973-06-29',
            'description': '''
              Cell series star. Agency season worry take value eye sell.
              Human less power relate fine religious. Loss increase firm friend ability. Their office though television return main.
            ''',
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'title': 'William Kennedy',
          }),
          'id': 'ea416ed0-759d-46a8-de58-f63a59077499',
          'relationships': dict({
            'category': dict({
              'data': dict({
                'id': 'moment-poor',
                'type': 'categories',
              }),
            }),
            'files': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
            'marks': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
            'tags': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
          }),
          'type': 'documents',
        }),
      ]),
      'included': list([
        dict({
          'attributes': dict({
            'allowed-mime-types': None,
            'color': '#eaf254',
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': '''
                Window relate raise gun. Base hear human high word. Boy per news traditional article.
                Pressure dog sell maybe kitchen. Impact wide yourself win reflect purpose important.
              ''',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': dict({
              'de': '',
              'en': 'Ronnie Mcdonald',
              'fr': '',
            }),
            'sort': None,
          }),
          'id': 'moment-poor',
          'relationships': dict({
            'children': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
            'parent': dict({
              'data': None,
            }),
          }),
          'type': 'categories',
        }),
        dict({
          'attributes': dict({
            'allowed-mime-types': None,
            'color': '#093f87',
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': '''
                Far bit among again. Station story first. Team suggest traditional boy above.
                Central meeting anyone remember. There today material minute ago get. Range whose scientist draw free property consider.
              ''',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': dict({
              'de': '',
              'en': 'Erin Scott',
              'fr': '',
            }),
            'sort': None,
          }),
          'id': 'note-act-source',
          'relationships': dict({
            'children': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
            'parent': dict({
              'data': None,
            }),
          }),
          'type': 'categories',
        }),
        dict({
          'attributes': dict({
            'allowed-mime-types': None,
            'color': '#1acca5',
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': '''
                Road political heart outside capital. Myself can bed notice range. Minute can second prove every check official.
                Culture create risk against capital factor find able. For brother weight upon.
              ''',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': dict({
              'de': '',
              'en': 'Andre Kennedy',
              'fr': '',
            }),
            'sort': None,
          }),
          'id': 'right-professor',
          'relationships': dict({
            'children': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
            'parent': dict({
              'data': None,
            }),
          }),
          'type': 'categories',
        }),
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': '''
                Hope star check record well.
                With Mr letter eye way society. Move enter them his half long.
              ''',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': dict({
              'de': '',
              'en': 'Philip Holmes',
              'fr': '',
            }),
          }),
          'id': 'father-should-keep',
          'type': 'marks',
        }),
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': '''
                History off reason career. Wide even material police. List usually large exactly out.
                Difficult make listen unit seven lead effort. Race couple identify.
              ''',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': 'Miss Ebony Gaines',
          }),
          'id': '9336ebf2-5087-d91c-818e-e6e9ec29f8c1',
          'relationships': dict({
            'tag-synonym-group': dict({
              'data': None,
            }),
          }),
          'type': 'tags',
        }),
      ]),
    }),
    'status': 200,
  })
# ---
# name: test_api_list[FileViewSet]
  dict({
    'queries': list([
      'SELECT 1 AS "a" FROM "alexandria_core_file" LIMIT 1',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" ORDER BY "alexandria_core_file"."created_at" DESC',
      'SELECT "alexandria_core_document"."created_at", "alexandria_core_document"."created_by_user", "alexandria_core_document"."created_by_group", "alexandria_core_document"."modified_at", "alexandria_core_document"."modified_by_user", "alexandria_core_document"."modified_by_group", "alexandria_core_document"."metainfo", "alexandria_core_document"."id", "alexandria_core_document"."title", "alexandria_core_document"."description", "alexandria_core_document"."category_id", "alexandria_core_document"."date" FROM "alexandria_core_document" WHERE ("alexandria_core_document"."id") IN ((\'9dd4e461268c8034f5c8564e155c67a6\'::uuid), (\'dad3a37aa9d50688b5157698acfd7aee\'::uuid), (\'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid))',
      'SELECT ("alexandria_core_document_marks"."document_id") AS "_prefetch_related_val_document_id", "alexandria_core_mark"."created_at", "alexandria_core_mark"."created_by_user", "alexandria_core_mark"."created_by_group", "alexandria_core_mark"."modified_at", "alexandria_core_mark"."modified_by_user", "alexandria_core_mark"."modified_by_group", "alexandria_core_mark"."metainfo", "alexandria_core_mark"."slug", "alexandria_core_mark"."name", "alexandria_core_mark"."description" FROM "alexandria_core_mark" INNER JOIN "alexandria_core_document_marks" ON ("alexandria_core_mark"."slug" = "alexandria_core_document_marks"."mark_id") WHERE "alexandria_core_document_marks"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid, \'dad3a37aa9d50688b5157698acfd7aee\'::uuid, \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid)',
      'SELECT ("alexandria_core_document_tags"."document_id") AS "_prefetch_related_val_document_id", "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" INNER JOIN "alexandria_core_document_tags" ON ("alexandria_core_tag"."id" = "alexandria_core_document_tags"."tag_id") WHERE "alexandria_core_document_tags"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid, \'dad3a37aa9d50688b5157698acfd7aee\'::uuid, \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid)',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid, \'dad3a37aa9d50688b5157698acfd7aee\'::uuid, \'f561aaf6ef0bf14d4208bb46a4ccb3ad\'::uuid) ORDER BY "alexandria_core_file"."created_at" DESC',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."original_id" IN (\'04adb4e2f055c978c9bb101ee1bc5cd4\'::uuid, \'9336ebf25087d91c818ee6e9ec29f8c1\'::uuid, \'ea416ed0759d46a8de58f63a59077499\'::uuid, \'fb0e22c79ac75679e9881e6ba183b354\'::uuid) ORDER BY "alexandria_core_file"."created_at" DESC',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE ("alexandria_core_file"."id") IN ((\'ea416ed0759d46a8de58f63a59077499\'::uuid))',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."original_id" = \'fb0e22c79ac75679e9881e6ba183b354\'::uuid ORDER BY "alexandria_core_file"."created_at" DESC',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."original_id" = \'ea416ed0759d46a8de58f63a59077499\'::uuid ORDER BY "alexandria_core_file"."created_at" DESC',
    ]),
    'query_count': 10,
    'request': dict({
      'CONTENT_TYPE': 'application/octet-stream',
      'PATH_INFO': '/api/v1/files',
      'QUERY_STRING': 'include=document%2Coriginal%2Crenderings',
      'REQUEST_METHOD': 'GET',
      'SERVER_PORT': '80',
    }),
    'request_payload': None,
    'response': dict({
      'data': list([
        dict({
          'attributes': dict({
            'checksum': 'sha256:6e94c5bf30f49e56597aa0cddc0ec3953fe0f9d8cfc71d32b96bcde0372a1bd9',
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'download-url': 'http://testserver/api/v1/files/9336ebf2-5087-d91c-818e-e6e9ec29f8c1/download?expires=1495325100&signature=Xokw7fliCXiz-2emQ4GyohBY1Vk3sqv1T9dZ_FQcSFM',
            'metainfo': dict({
            }),
            'mime-type': 'text/javascript',
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': 'father.png',
            'size': 3030,
            'variant': 'original',
          }),
          'id': '9336ebf2-5087-d91c-818e-e6e9ec29f8c1',
          'relationships': dict({
            'document': dict({
              'data': dict({
                'id': '9dd4e461-268c-8034-f5c8-564e155c67a6',
                'type': 'documents',
              }),
            }),
            'original': dict({
              'data': None,
            }),
            'renderings': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
          }),
          'type': 'files',
        }),
        dict({
          'attributes': dict({
            'checksum': 'sha256:6e94c5bf30f49e56597aa0cddc0ec3953fe0f9d8cfc71d32b96bcde0372a1bd9',
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'download-url': 'http://testserver/api/v1/files/ea416ed0-759d-46a8-de58-f63a59077499/download?expires=1495325100&signature=yomBR8YqKuSLguMHxfpQ2Myl2lywqF1v2GTbjBLg9a4',
            'metainfo': dict({
            }),
            'mime-type': 'model/vrml',
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': 'run.png',
            'size': 7738,
            'variant': 'original',
          }),
          'id': 'ea416ed0-759d-46a8-de58-f63a59077499',
          'relationships': dict({
            'document': dict({
              'data': dict({
                'id': 'f561aaf6-ef0b-f14d-4208-bb46a4ccb3ad',
                'type': 'documents',
              }),
            }),
            'original': dict({
              'data': None,
            }),
            'renderings': dict({
              'data': list([
                dict({
                  'id': 'fb0e22c7-9ac7-5679-e988-1e6ba183b354',
                  'type': 'files',
                }),
              ]),
              'meta': dict({
                'count': 1,
              }),
            }),
          }),
          'type': 'files',
        }),
        dict({
          'attributes': dict({
            'checksum': 'sha256:25afe0ed8b1f1663713d3cff0368a22478d14ed61933e3d5e6076f139dcf2e9d',
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': None,
            'created-by-user': None,
            'download-url': 'http://testserver/api/v1/files/fb0e22c7-9ac7-5679-e988-1e6ba183b354/download?expires=1495325100&signature=3hcV0trdfBrBgkmk2Z2jYRX1WW6fLqhgF2nDuR1i8FM',
            'metainfo': dict({
            }),
            'mime-type': 'image/jpeg',
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': None,
            'modified-by-user': None,
            'name': 'run.png_preview.jpg',
            'size': 7738,
            'variant': 'thumbnail',
          }),
          'id': 'fb0e22c7-9ac7-5679-e988-1e6ba183b354',
          'relationships': dict({
            'document': dict({
              'data': dict({
                'id': 'f561aaf6-ef0b-f14d-4208-bb46a4ccb3ad',
                'type': 'documents',
              }),
            }),
            'original': dict({
              'data': dict({
                'id': 'ea416ed0-759d-46a8-de58-f63a59077499',
                'type': 'files',
              }),
            }),
            'renderings': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
          }),
          'type': 'files',
        }),
        dict({
          'attributes': dict({
            'checksum': 'sha256:6e94c5bf30f49e56597aa0cddc0ec3953fe0f9d8cfc71d32b96bcde0372a1bd9',
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'download-url': 'http://testserver/api/v1/files/04adb4e2-f055-c978-c9bb-101ee1bc5cd4/download?expires=1495325100&signature=77GQq_KlmOWBHTFcpUHFyHs7gq3kjt9HbHB2_THPwXs',
            'metainfo': dict({
            }),
            'mime-type': 'model/x3d+vrml',
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': 'show.png',
            'size': 1870,
            'variant': 'original',
          }),
          'id': '04adb4e2-f055-c978-c9bb-101ee1bc5cd4',
          'relationships': dict({
            'document': dict({
              'data': dict({
                'id': 'dad3a37a-a9d5-0688-b515-7698acfd7aee',
                'type': 'documents',
              }),
            }),
            'original': dict({
              'data': None,
            }),
            'renderings': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
          }),
          'type': 'files',
        }),
      ]),
      'included': list([
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'date': '1999-11-26',
            'description': '''
              Open else look tree arm responsibility week. Environmental statement bag someone them style.
              Public these health team change. Tax final upon stay sing middle suggest.
            ''',
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'title': 'Michael Edwards',
          }),
          'id': '9dd4e461-268c-8034-f5c8-564e155c67a6',
          'relationships': dict({
            'category': dict({
              'data': dict({
                'id': 'note-act-source',
                'type': 'categories',
              }),
            }),
            'files': dict({
              'data': list([
                dict({
                  'id': '9336ebf2-5087-d91c-818e-e6e9ec29f8c1',
                  'type': 'files',
                }),
              ]),
              'meta': dict({
                'count': 1,
              }),
            }),
            'marks': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
            'tags': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
          }),
          'type': 'documents',
        }),
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'date': '1977-12-09',
            'description': '''
              Star Republican agency season. Take value eye sell them he.
              Same season natural think Mr course tree. Within never whose five hold food.
            ''',
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'title': 'Carol Mata',
          }),
          'id': 'dad3a37a-a9d5-0688-b515-7698acfd7aee',
          'relationships': dict({
            'category': dict({
              'data': dict({
                'id': 'party-coach-note',
                'type': 'categories',
              }),
            }),
            'files': dict({
              'data': list([
                dict({
                  'id': '04adb4e2-f055-c978-c9bb-101ee1bc5cd4',
                  'type': 'files',
                }),
              ]),
              'meta': dict({
                'count': 1,
              }),
            }),
            'marks': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
            'tags': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
          }),
          'type': 'documents',
        }),
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'date': '2005-06-14',
            'description': '''
              Bank arm serious live by itself. Project find white continue none president. Idea eye plan third program.
              Son success provide beyond. Officer player possible issue ahead suffer.
            ''',
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'title': 'Linda White',
          }),
          'id': 'f561aaf6-ef0b-f14d-4208-bb46a4ccb3ad',
          'relationships': dict({
            'category': dict({
              'data': dict({
                'id': 'right-professor',
                'type': 'categories',
              }),
            }),
            'files': dict({
              'data': list([
                dict({
                  'id': 'ea416ed0-759d-46a8-de58-f63a59077499',
                  'type': 'files',
                }),
                dict({
                  'id': 'fb0e22c7-9ac7-5679-e988-1e6ba183b354',
                  'type': 'files',
                }),
              ]),
              'meta': dict({
                'count': 2,
              }),
            }),
            'marks': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
            'tags': dict({
              'data': list([
              ]),
              'meta': dict({
                'count': 0,
              }),
            }),
          }),
          'type': 'documents',
        }),
      ]),
    }),
    'status': 200,
  })
# ---
# name: test_api_list[MarkViewSet]
  dict({
    'queries': list([
      'SELECT DISTINCT 1 AS "a" FROM "alexandria_core_mark" LIMIT 1',
      'SELECT DISTINCT "alexandria_core_mark"."created_at", "alexandria_core_mark"."created_by_user", "alexandria_core_mark"."created_by_group", "alexandria_core_mark"."modified_at", "alexandria_core_mark"."modified_by_user", "alexandria_core_mark"."modified_by_group", "alexandria_core_mark"."metainfo", "alexandria_core_mark"."slug", "alexandria_core_mark"."name", "alexandria_core_mark"."description" FROM "alexandria_core_mark"',
    ]),
    'query_count': 2,
    'request': dict({
      'CONTENT_TYPE': 'application/octet-stream',
      'PATH_INFO': '/api/v1/marks',
      'QUERY_STRING': 'include=',
      'REQUEST_METHOD': 'GET',
      'SERVER_PORT': '80',
    }),
    'request_payload': None,
    'response': dict({
      'data': list([
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': '''
                Arm serious live by itself. Project find white continue none president.
                Partner area media increase meeting article. Success provide beyond seek officer player.
              ''',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': dict({
              'de': '',
              'en': 'Timothy Malone',
              'fr': '',
            }),
          }),
          'id': 'run-too-successful',
          'type': 'marks',
        }),
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': '''
                Far bit among again. Station story first. Team suggest traditional boy above.
                Central meeting anyone remember. There today material minute ago get. Range whose scientist draw free property consider.
              ''',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': dict({
              'de': '',
              'en': 'Erin Scott',
              'fr': '',
            }),
          }),
          'id': 'note-act-source',
          'type': 'marks',
        }),
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': '''
                Process truth assume popular contain commercial with. Detail race high even might.
                Thing summer prevent free environment measure role later. Capital direction capital Congress doctor land prevent.
              ''',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': dict({
              'de': '',
              'en': 'Linda Taylor',
              'fr': '',
            }),
          }),
          'id': 'front-her-occur',
          'type': 'marks',
        }),
      ]),
    }),
    'status': 200,
  })
# ---
# name: test_api_list[TagViewSet]
  dict({
    'queries': list([
      'SELECT DISTINCT 1 AS "a" FROM "alexandria_core_tag" LIMIT 1',
      'SELECT DISTINCT "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" ORDER BY "alexandria_core_tag"."name" ASC',
    ]),
    'query_count': 2,
    'request': dict({
      'CONTENT_TYPE': 'application/octet-stream',
      'PATH_INFO': '/api/v1/tags',
      'QUERY_STRING': 'include=tag_synonym_group',
      'REQUEST_METHOD': 'GET',
      'SERVER_PORT': '80',
    }),
    'request_payload': None,
    'response': dict({
      'data': list([
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': '''
                Free environment measure role later now over.
                Can bed notice range. Minute can second prove every check official. Stay culture create risk.
                Daughter single product trade.
              ''',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': 'Lorraine Reynolds',
          }),
          'id': 'f561aaf6-ef0b-f14d-4208-bb46a4ccb3ad',
          'relationships': dict({
            'tag-synonym-group': dict({
              'data': None,
            }),
          }),
          'type': 'tags',
        }),
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': '''
                Effort meet relationship far. Option program interesting station. First where during teach country talk across.
                Argue move appear catch toward help wind. Material minute ago get.
              ''',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': 'Pamela Horton',
          }),
          'id': '9dd4e461-268c-8034-f5c8-564e155c67a6',
          'relationships': dict({
            'tag-synonym-group': dict({
              'data': None,
            }),
          }),
          'type': 'tags',
        }),
        dict({
          'attributes': dict({
            'created-at': '2017-05-21T00:00:00Z',
            'created-by-group': 'admin',
            'created-by-user': 'admin',
            'description': dict({
              'de': '',
              'en': '''
                Bank arm serious live by itself. Project find white continue none president. Idea eye plan third program.
                Son success provide beyond. Officer player possible issue ahead suffer.
              ''',
              'fr': '',
            }),
            'metainfo': dict({
            }),
            'modified-at': '2017-05-21T00:00:00Z',
            'modified-by-group': 'admin',
            'modified-by-user': 'admin',
            'name': 'Rebecca Gonzalez',
          }),
          'id': '9336ebf2-5087-d91c-818e-e6e9ec29f8c1',
          'relationships': dict({
            'tag-synonym-group': dict({
              'data': None,
            }),
          }),
          'type': 'tags',
        }),
      ]),
    }),
    'status': 200,
  })
# ---
# name: test_api_patch[CategoryViewSet]
  dict({
    'queries': list([
    ]),
    'query_count': 0,
    'request': dict({
      'CONTENT_LENGTH': '684',
      'CONTENT_TYPE': 'application/vnd.api+json',
      'PATH_INFO': '/api/v1/categories/note-act-source',
      'QUERY_STRING': '',
      'REQUEST_METHOD': 'PATCH',
      'SERVER_PORT': '80',
    }),
    'request_payload': dict({
      'data': dict({
        'attributes': dict({
          'allowed-mime-types': None,
          'color': '#093f87',
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'description': dict({
            'de': '',
            'en': '''
              Far bit among again. Station story first. Team suggest traditional boy above.
              Central meeting anyone remember. There today material minute ago get. Range whose scientist draw free property consider.
            ''',
            'fr': '',
          }),
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'name': dict({
            'de': '',
            'en': 'Erin Scott',
            'fr': '',
          }),
          'sort': None,
        }),
        'id': 'note-act-source',
        'relationships': dict({
          'children': dict({
            'data': list([
            ]),
            'meta': dict({
              'count': 0,
            }),
          }),
          'parent': dict({
            'data': None,
          }),
        }),
        'type': 'categories',
      }),
    }),
    'response': dict({
      'errors': list([
        dict({
          'code': 'method_not_allowed',
          'detail': 'Method "PATCH" not allowed.',
          'source': dict({
            'pointer': '/data',
          }),
          'status': '405',
        }),
      ]),
    }),
    'status': 405,
  })
# ---
# name: test_api_patch[DocumentViewSet]
  dict({
    'queries': list([
      'SELECT 1 AS "a" FROM "alexandria_core_document" LIMIT 1',
      'SELECT "alexandria_core_document"."created_at", "alexandria_core_document"."created_by_user", "alexandria_core_document"."created_by_group", "alexandria_core_document"."modified_at", "alexandria_core_document"."modified_by_user", "alexandria_core_document"."modified_by_group", "alexandria_core_document"."metainfo", "alexandria_core_document"."id", "alexandria_core_document"."title", "alexandria_core_document"."description", "alexandria_core_document"."category_id", "alexandria_core_document"."date" FROM "alexandria_core_document" WHERE "alexandria_core_document"."id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid LIMIT 21',
      'SELECT ("alexandria_core_document_marks"."document_id") AS "_prefetch_related_val_document_id", "alexandria_core_mark"."created_at", "alexandria_core_mark"."created_by_user", "alexandria_core_mark"."created_by_group", "alexandria_core_mark"."modified_at", "alexandria_core_mark"."modified_by_user", "alexandria_core_mark"."modified_by_group", "alexandria_core_mark"."metainfo", "alexandria_core_mark"."slug", "alexandria_core_mark"."name", "alexandria_core_mark"."description" FROM "alexandria_core_mark" INNER JOIN "alexandria_core_document_marks" ON ("alexandria_core_mark"."slug" = "alexandria_core_document_marks"."mark_id") WHERE "alexandria_core_document_marks"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
      'SELECT ("alexandria_core_document_tags"."document_id") AS "_prefetch_related_val_document_id", "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" INNER JOIN "alexandria_core_document_tags" ON ("alexandria_core_tag"."id" = "alexandria_core_document_tags"."tag_id") WHERE "alexandria_core_document_tags"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid) ORDER BY "alexandria_core_file"."created_at" DESC',
      'SELECT 1 AS "a" FROM "alexandria_core_document" LIMIT 1',
      'SELECT "alexandria_core_document"."created_at", "alexandria_core_document"."created_by_user", "alexandria_core_document"."created_by_group", "alexandria_core_document"."modified_at", "alexandria_core_document"."modified_by_user", "alexandria_core_document"."modified_by_group", "alexandria_core_document"."metainfo", "alexandria_core_document"."id", "alexandria_core_document"."title", "alexandria_core_document"."description", "alexandria_core_document"."category_id", "alexandria_core_document"."date" FROM "alexandria_core_document" WHERE "alexandria_core_document"."id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid LIMIT 21',
      'SELECT ("alexandria_core_document_marks"."document_id") AS "_prefetch_related_val_document_id", "alexandria_core_mark"."created_at", "alexandria_core_mark"."created_by_user", "alexandria_core_mark"."created_by_group", "alexandria_core_mark"."modified_at", "alexandria_core_mark"."modified_by_user", "alexandria_core_mark"."modified_by_group", "alexandria_core_mark"."metainfo", "alexandria_core_mark"."slug", "alexandria_core_mark"."name", "alexandria_core_mark"."description" FROM "alexandria_core_mark" INNER JOIN "alexandria_core_document_marks" ON ("alexandria_core_mark"."slug" = "alexandria_core_document_marks"."mark_id") WHERE "alexandria_core_document_marks"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
      'SELECT ("alexandria_core_document_tags"."document_id") AS "_prefetch_related_val_document_id", "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" INNER JOIN "alexandria_core_document_tags" ON ("alexandria_core_tag"."id" = "alexandria_core_document_tags"."tag_id") WHERE "alexandria_core_document_tags"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid) ORDER BY "alexandria_core_file"."created_at" DESC',
      'SELECT "alexandria_core_category"."created_at", "alexandria_core_category"."created_by_user", "alexandria_core_category"."created_by_group", "alexandria_core_category"."modified_at", "alexandria_core_category"."modified_by_user", "alexandria_core_category"."modified_by_group", "alexandria_core_category"."metainfo", "alexandria_core_category"."slug", "alexandria_core_category"."name", "alexandria_core_category"."description", "alexandria_core_category"."allowed_mime_types", "alexandria_core_category"."color", "alexandria_core_category"."parent_id", "alexandria_core_category"."sort" FROM "alexandria_core_category" WHERE "alexandria_core_category"."slug" = \'note-act-source\' LIMIT 21',
      'SELECT "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" WHERE "alexandria_core_tag"."id" = \'9336ebf25087d91c818ee6e9ec29f8c1\'::uuid LIMIT 21',
      'SELECT "alexandria_core_mark"."created_at", "alexandria_core_mark"."created_by_user", "alexandria_core_mark"."created_by_group", "alexandria_core_mark"."modified_at", "alexandria_core_mark"."modified_by_user", "alexandria_core_mark"."modified_by_group", "alexandria_core_mark"."metainfo", "alexandria_core_mark"."slug", "alexandria_core_mark"."name", "alexandria_core_mark"."description" FROM "alexandria_core_mark" WHERE "alexandria_core_mark"."slug" = \'father-should-keep\' LIMIT 21',
      'SELECT "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" INNER JOIN "alexandria_core_document_tags" ON ("alexandria_core_tag"."id" = "alexandria_core_document_tags"."tag_id") WHERE ("alexandria_core_document_tags"."document_id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid AND NOT ("alexandria_core_tag"."id" IN (SELECT U0."id" FROM "alexandria_core_tag" U0 INNER JOIN "alexandria_core_document_tags" U1 ON (U0."id" = U1."tag_id") WHERE U1."document_id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid)))',
      'SELECT "alexandria_core_mark"."created_at", "alexandria_core_mark"."created_by_user", "alexandria_core_mark"."created_by_group", "alexandria_core_mark"."modified_at", "alexandria_core_mark"."modified_by_user", "alexandria_core_mark"."modified_by_group", "alexandria_core_mark"."metainfo", "alexandria_core_mark"."slug", "alexandria_core_mark"."name", "alexandria_core_mark"."description" FROM "alexandria_core_mark" INNER JOIN "alexandria_core_document_marks" ON ("alexandria_core_mark"."slug" = "alexandria_core_document_marks"."mark_id") WHERE ("alexandria_core_document_marks"."document_id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid AND NOT ("alexandria_core_mark"."slug" IN (SELECT U0."slug" FROM "alexandria_core_mark" U0 INNER JOIN "alexandria_core_document_marks" U1 ON (U0."slug" = U1."mark_id") WHERE U1."document_id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid)))',
      'SELECT 1 AS "a" FROM "alexandria_core_document" LIMIT 1',
      'SELECT "alexandria_core_document"."created_at", "alexandria_core_document"."created_by_user", "alexandria_core_document"."created_by_group", "alexandria_core_document"."modified_at", "alexandria_core_document"."modified_by_user", "alexandria_core_document"."modified_by_group", "alexandria_core_document"."metainfo", "alexandria_core_document"."id", "alexandria_core_document"."title", "alexandria_core_document"."description", "alexandria_core_document"."category_id", "alexandria_core_document"."date" FROM "alexandria_core_document" WHERE "alexandria_core_document"."id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid LIMIT 21',
      'SELECT ("alexandria_core_document_marks"."document_id") AS "_prefetch_related_val_document_id", "alexandria_core_mark"."created_at", "alexandria_core_mark"."created_by_user", "alexandria_core_mark"."created_by_group", "alexandria_core_mark"."modified_at", "alexandria_core_mark"."modified_by_user", "alexandria_core_mark"."modified_by_group", "alexandria_core_mark"."metainfo", "alexandria_core_mark"."slug", "alexandria_core_mark"."name", "alexandria_core_mark"."description" FROM "alexandria_core_mark" INNER JOIN "alexandria_core_document_marks" ON ("alexandria_core_mark"."slug" = "alexandria_core_document_marks"."mark_id") WHERE "alexandria_core_document_marks"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
      'SELECT ("alexandria_core_document_tags"."document_id") AS "_prefetch_related_val_document_id", "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" INNER JOIN "alexandria_core_document_tags" ON ("alexandria_core_tag"."id" = "alexandria_core_document_tags"."tag_id") WHERE "alexandria_core_document_tags"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid)',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."document_id" IN (\'9dd4e461268c8034f5c8564e155c67a6\'::uuid) ORDER BY "alexandria_core_file"."created_at" DESC',
      'SELECT "alexandria_core_category"."created_at", "alexandria_core_category"."created_by_user", "alexandria_core_category"."created_by_group", "alexandria_core_category"."modified_at", "alexandria_core_category"."modified_by_user", "alexandria_core_category"."modified_by_group", "alexandria_core_category"."metainfo", "alexandria_core_category"."slug", "alexandria_core_category"."name", "alexandria_core_category"."description", "alexandria_core_category"."allowed_mime_types", "alexandria_core_category"."color", "alexandria_core_category"."parent_id", "alexandria_core_category"."sort" FROM "alexandria_core_category" WHERE "alexandria_core_category"."slug" = \'note-act-source\' LIMIT 21',
      '''
        UPDATE "alexandria_core_document" SET "created_at" = '2017-05-21 00:00:00+00:00'::timestamptz, "created_by_user" = 'admin', "created_by_group" = 'admin', "modified_at" = '2017-05-21 00:00:00+00:00'::timestamptz, "modified_by_user" = 'admin', "modified_by_group" = 'admin', "metainfo" = '{}'::jsonb, "title" = 'Michael Edwards', "description" = 'Open else look tree arm responsibility week. Environmental statement bag someone them style.
        Public these health team change. Tax final upon stay sing middle suggest.', "category_id" = 'note-act-source', "date" = '1999-11-26'::date WHERE "alexandria_core_document"."id" = '9dd4e461268c8034f5c8564e155c67a6'::uuid
      ''',
      'BEGIN',
      'SELECT "alexandria_core_tag"."id" AS "id" FROM "alexandria_core_tag" INNER JOIN "alexandria_core_document_tags" ON ("alexandria_core_tag"."id" = "alexandria_core_document_tags"."tag_id") WHERE "alexandria_core_document_tags"."document_id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid',
      'COMMIT',
      'BEGIN',
      'SELECT "alexandria_core_mark"."slug" AS "slug" FROM "alexandria_core_mark" INNER JOIN "alexandria_core_document_marks" ON ("alexandria_core_mark"."slug" = "alexandria_core_document_marks"."mark_id") WHERE "alexandria_core_document_marks"."document_id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid',
      'COMMIT',
      'SELECT "alexandria_core_file"."created_at", "alexandria_core_file"."created_by_user", "alexandria_core_file"."created_by_group", "alexandria_core_file"."modified_at", "alexandria_core_file"."modified_by_user", "alexandria_core_file"."modified_by_group", "alexandria_core_file"."metainfo", "alexandria_core_file"."id", "alexandria_core_file"."variant", "alexandria_core_file"."original_id", "alexandria_core_file"."name", "alexandria_core_file"."document_id", "alexandria_core_file"."checksum", "alexandria_core_file"."encryption_status", "alexandria_core_file"."content_vector", "alexandria_core_file"."content_text", "alexandria_core_file"."language", "alexandria_core_file"."content", "alexandria_core_file"."mime_type", "alexandria_core_file"."size" FROM "alexandria_core_file" WHERE "alexandria_core_file"."document_id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid ORDER BY "alexandria_core_file"."created_at" DESC',
      'SELECT 1 AS "a" FROM "alexandria_core_tag" INNER JOIN "alexandria_core_document_tags" ON ("alexandria_core_tag"."id" = "alexandria_core_document_tags"."tag_id") WHERE "alexandria_core_document_tags"."document_id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid LIMIT 1',
      'SELECT "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" INNER JOIN "alexandria_core_document_tags" ON ("alexandria_core_tag"."id" = "alexandria_core_document_tags"."tag_id") WHERE "alexandria_core_document_tags"."document_id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid',
      'SELECT 1 AS "a" FROM "alexandria_core_mark" INNER JOIN "alexandria_core_document_marks" ON ("alexandria_core_mark"."slug" = "alexandria_core_document_marks"."mark_id") WHERE "alexandria_core_document_marks"."document_id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid LIMIT 1',
      'SELECT "alexandria_core_mark"."created_at", "alexandria_core_mark"."created_by_user", "alexandria_core_mark"."created_by_group", "alexandria_core_mark"."modified_at", "alexandria_core_mark"."modified_by_user", "alexandria_core_mark"."modified_by_group", "alexandria_core_mark"."metainfo", "alexandria_core_mark"."slug", "alexandria_core_mark"."name", "alexandria_core_mark"."description" FROM "alexandria_core_mark" INNER JOIN "alexandria_core_document_marks" ON ("alexandria_core_mark"."slug" = "alexandria_core_document_marks"."mark_id") WHERE "alexandria_core_document_marks"."document_id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid',
      'SELECT "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" LEFT OUTER JOIN "alexandria_core_document_tags" ON ("alexandria_core_tag"."id" = "alexandria_core_document_tags"."tag_id") WHERE "alexandria_core_document_tags"."document_id" IS NULL',
      'BEGIN',
      'COMMIT',
    ]),
    'query_count': 36,
    'request': dict({
      'CONTENT_LENGTH': '813',
      'CONTENT_TYPE': 'application/vnd.api+json',
      'PATH_INFO': '/api/v1/documents/9dd4e461-268c-8034-f5c8-564e155c67a6',
      'QUERY_STRING': '',
      'REQUEST_METHOD': 'PATCH',
      'SERVER_PORT': '80',
    }),
    'request_payload': dict({
      'data': dict({
        'attributes': dict({
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'date': '1999-11-26',
          'description': '''
            Open else look tree arm responsibility week. Environmental statement bag someone them style.
            Public these health team change. Tax final upon stay sing middle suggest.
          ''',
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'title': 'Michael Edwards',
        }),
        'id': '9dd4e461-268c-8034-f5c8-564e155c67a6',
        'relationships': dict({
          'category': dict({
            'data': dict({
              'id': 'note-act-source',
              'type': 'categories',
            }),
          }),
          'files': dict({
            'data': list([
            ]),
            'meta': dict({
              'count': 0,
            }),
          }),
          'marks': dict({
            'data': list([
              dict({
                'id': 'father-should-keep',
                'type': 'marks',
              }),
            ]),
            'meta': dict({
              'count': 1,
            }),
          }),
          'tags': dict({
            'data': list([
              dict({
                'id': '9336ebf2-5087-d91c-818e-e6e9ec29f8c1',
                'type': 'tags',
              }),
            ]),
            'meta': dict({
              'count': 1,
            }),
          }),
        }),
        'type': 'documents',
      }),
    }),
    'response': dict({
      'data': dict({
        'attributes': dict({
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'date': '1999-11-26',
          'description': '''
            Open else look tree arm responsibility week. Environmental statement bag someone them style.
            Public these health team change. Tax final upon stay sing middle suggest.
          ''',
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'title': 'Michael Edwards',
        }),
        'id': '9dd4e461-268c-8034-f5c8-564e155c67a6',
        'relationships': dict({
          'category': dict({
            'data': dict({
              'id': 'note-act-source',
              'type': 'categories',
            }),
          }),
          'files': dict({
            'data': list([
            ]),
            'meta': dict({
              'count': 0,
            }),
          }),
          'marks': dict({
            'data': list([
              dict({
                'id': 'father-should-keep',
                'type': 'marks',
              }),
            ]),
            'meta': dict({
              'count': 1,
            }),
          }),
          'tags': dict({
            'data': list([
              dict({
                'id': '9336ebf2-5087-d91c-818e-e6e9ec29f8c1',
                'type': 'tags',
              }),
            ]),
            'meta': dict({
              'count': 1,
            }),
          }),
        }),
        'type': 'documents',
      }),
    }),
    'status': 200,
  })
# ---
# name: test_api_patch[MarkViewSet]
  dict({
    'queries': list([
      'SELECT DISTINCT 1 AS "a" FROM "alexandria_core_mark" LIMIT 1',
      'SELECT DISTINCT "alexandria_core_mark"."created_at", "alexandria_core_mark"."created_by_user", "alexandria_core_mark"."created_by_group", "alexandria_core_mark"."modified_at", "alexandria_core_mark"."modified_by_user", "alexandria_core_mark"."modified_by_group", "alexandria_core_mark"."metainfo", "alexandria_core_mark"."slug", "alexandria_core_mark"."name", "alexandria_core_mark"."description" FROM "alexandria_core_mark" WHERE "alexandria_core_mark"."slug" = \'note-act-source\' LIMIT 21',
      '''
        UPDATE "alexandria_core_mark" SET "created_at" = '2017-05-21 00:00:00+00:00'::timestamptz, "created_by_user" = 'admin', "created_by_group" = 'admin', "modified_at" = '2017-05-21 00:00:00+00:00'::timestamptz, "modified_by_user" = 'admin', "modified_by_group" = 'admin', "metainfo" = '{}'::jsonb, "name" = '"en"=>"Erin Scott","de"=>"","fr"=>""'::hstore, "description" = '"en"=>"Far bit among again. Station story first. Team suggest traditional boy above.
        Central meeting anyone remember. There today material minute ago get. Range whose scientist draw free property consider.","de"=>"","fr"=>""'::hstore WHERE "alexandria_core_mark"."slug" = 'note-act-source'
      ''',
    ]),
    'query_count': 3,
    'request': dict({
      'CONTENT_LENGTH': '540',
      'CONTENT_TYPE': 'application/vnd.api+json',
      'PATH_INFO': '/api/v1/marks/note-act-source',
      'QUERY_STRING': '',
      'REQUEST_METHOD': 'PATCH',
      'SERVER_PORT': '80',
    }),
    'request_payload': dict({
      'data': dict({
        'attributes': dict({
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'description': dict({
            'de': '',
            'en': '''
              Far bit among again. Station story first. Team suggest traditional boy above.
              Central meeting anyone remember. There today material minute ago get. Range whose scientist draw free property consider.
            ''',
            'fr': '',
          }),
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'name': dict({
            'de': '',
            'en': 'Erin Scott',
            'fr': '',
          }),
        }),
        'id': 'note-act-source',
        'type': 'marks',
      }),
    }),
    'response': dict({
      'data': dict({
        'attributes': dict({
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'description': dict({
            'de': '',
            'en': '''
              Far bit among again. Station story first. Team suggest traditional boy above.
              Central meeting anyone remember. There today material minute ago get. Range whose scientist draw free property consider.
            ''',
            'fr': '',
          }),
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'name': dict({
            'de': '',
            'en': 'Erin Scott',
            'fr': '',
          }),
        }),
        'id': 'note-act-source',
        'type': 'marks',
      }),
    }),
    'status': 200,
  })
# ---
# name: test_api_patch[TagViewSet]
  dict({
    'queries': list([
      'SELECT DISTINCT 1 AS "a" FROM "alexandria_core_tag" LIMIT 1',
      'SELECT DISTINCT "alexandria_core_tag"."created_at", "alexandria_core_tag"."created_by_user", "alexandria_core_tag"."created_by_group", "alexandria_core_tag"."modified_at", "alexandria_core_tag"."modified_by_user", "alexandria_core_tag"."modified_by_group", "alexandria_core_tag"."metainfo", "alexandria_core_tag"."id", "alexandria_core_tag"."name", "alexandria_core_tag"."description", "alexandria_core_tag"."tag_synonym_group_id" FROM "alexandria_core_tag" WHERE "alexandria_core_tag"."id" = \'9dd4e461268c8034f5c8564e155c67a6\'::uuid LIMIT 21',
      '''
        UPDATE "alexandria_core_tag" SET "created_at" = '2017-05-21 00:00:00+00:00'::timestamptz, "created_by_user" = 'admin', "created_by_group" = 'admin', "modified_at" = '2017-05-21 00:00:00+00:00'::timestamptz, "modified_by_user" = 'admin', "modified_by_group" = 'admin', "metainfo" = '{}'::jsonb, "name" = 'Pamela Horton', "description" = '"en"=>"Effort meet relationship far. Option program interesting station. First where during teach country talk across.
        Argue move appear catch toward help wind. Material minute ago get.","de"=>"","fr"=>""'::hstore, "tag_synonym_group_id" = NULL WHERE "alexandria_core_tag"."id" = '9dd4e461268c8034f5c8564e155c67a6'::uuid
      ''',
    ]),
    'query_count': 3,
    'request': dict({
      'CONTENT_LENGTH': '572',
      'CONTENT_TYPE': 'application/vnd.api+json',
      'PATH_INFO': '/api/v1/tags/9dd4e461-268c-8034-f5c8-564e155c67a6',
      'QUERY_STRING': '',
      'REQUEST_METHOD': 'PATCH',
      'SERVER_PORT': '80',
    }),
    'request_payload': dict({
      'data': dict({
        'attributes': dict({
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'description': dict({
            'de': '',
            'en': '''
              Effort meet relationship far. Option program interesting station. First where during teach country talk across.
              Argue move appear catch toward help wind. Material minute ago get.
            ''',
            'fr': '',
          }),
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'name': 'Pamela Horton',
        }),
        'id': '9dd4e461-268c-8034-f5c8-564e155c67a6',
        'relationships': dict({
          'tag-synonym-group': dict({
            'data': None,
          }),
        }),
        'type': 'tags',
      }),
    }),
    'response': dict({
      'data': dict({
        'attributes': dict({
          'created-at': '2017-05-21T00:00:00Z',
          'created-by-group': 'admin',
          'created-by-user': 'admin',
          'description': dict({
            'de': '',
            'en': '''
              Effort meet relationship far. Option program interesting station. First where during teach country talk across.
              Argue move appear catch toward help wind. Material minute ago get.
            ''',
            'fr': '',
          }),
          'metainfo': dict({
          }),
          'modified-at': '2017-05-21T00:00:00Z',
          'modified-by-group': 'admin',
          'modified-by-user': 'admin',
          'name': 'Pamela Horton',
        }),
        'id': '9dd4e461-268c-8034-f5c8-564e155c67a6',
        'relationships': dict({
          'tag-synonym-group': dict({
            'data': None,
          }),
        }),
        'type': 'tags',
      }),
    }),
    'status': 200,
  })
# ---
